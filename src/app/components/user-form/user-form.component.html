<div class="user-form">
    <h1>Nuevo Usuario</h1>

    <div class="tabs">
        <button type="button" (click)="activeTab = 'personal'" [class.active]="activeTab === 'personal'">
            Datos Personales
        </button>
        <button type="button" (click)="activeTab = 'address'" [class.active]="activeTab === 'address'">
            Dirección
        </button>
        <button type="button" (click)="activeTab = 'details'" [class.active]="activeTab === 'details'">
            Estudios / Experiencia Laboral
        </button>
    </div>

    <form (ngSubmit)="onSubmit()" #userForm="ngForm">
        <div *ngIf="activeTab === 'personal'" class="tab-content">
            <label for="nombre">Nombre:</label>
            <input id="nombre" type="text" [(ngModel)]="userData.nombre" name="nombre" required #nombre="ngModel" />
            <div *ngIf="nombre.invalid && nombre.touched" class="error-message">El nombre es obligatorio</div>

            <label for="primerApellido">1er Apellido:</label>
            <input id="primerApellido" type="text" [(ngModel)]="userData.primerApellido" name="primerApellido" required
                #primerApellido="ngModel" />
            <div *ngIf="primerApellido.invalid && primerApellido.touched" class="error-message">El primer apellido es
                obligatorio</div>

            <label for="segundoApellido">2º Apellido:</label>
            <input id="segundoApellido" type="text" [(ngModel)]="userData.segundoApellido" name="segundoApellido" />

            <label for="fechaNacimiento">Fecha de Nacimiento:</label>
            <input id="fechaNacimiento" type="date" [(ngModel)]="userData.fechaNacimiento" name="fechaNacimiento" />
        </div>

        <div *ngIf="activeTab === 'address'" class="tab-content">
            <label for="calle">Calle:</label>
            <input id="calle" type="text" [(ngModel)]="userData.calle" name="calle" />

            <label for="numero">Número:</label>
            <input id="numero" type="text" [(ngModel)]="userData.numero" name="numero" />

            <label for="codigoPostal">Código Postal:</label>
            <input id="codigoPostal" type="text" [(ngModel)]="userData.codigoPostal" name="codigoPostal" />

            <label for="ciudad">Ciudad:</label>
            <input id="ciudad" type="text" [(ngModel)]="userData.ciudad" name="ciudad" />
        </div>

        <div *ngIf="activeTab === 'details'" class="tab-content">
            <label for="institucion">Nombre de la Institución:</label>
            <input id="institucion" type="text" [(ngModel)]="userData.institucion" name="institucion" />

            <label for="titulacion">Titulación:</label>
            <input id="titulacion" type="text" [(ngModel)]="userData.titulacion" name="titulacion" />

            <label for="fechaEstudios">Fecha:</label>
            <input id="fechaEstudios" type="date" [(ngModel)]="userData.fechaEstudios" name="fechaEstudios" />
        </div>

        <div class="form-actions">
            <button type="submit" [disabled]="userForm.invalid">Guardar Usuario</button>
        </div>

    </form>
</div>